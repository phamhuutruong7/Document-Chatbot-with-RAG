graph TB
    %% Entry Point
    Main["main.py<br/>ğŸš€ Streamlit Application Entry Point"]
    
    %% Configuration Module
    Config["utils/config.py<br/>âš™ï¸ Pydantic Configuration Management<br/>â€¢ Environment Variables<br/>â€¢ API Keys<br/>â€¢ Model Settings"]
    
    %% Document Processing Pipeline
    FileParser["utils/file_parser.py<br/>ğŸ“„ Multi-format Document Parser<br/>â€¢ PDF Processing (PyMuPDF)<br/>â€¢ DOCX Processing<br/>â€¢ TXT Processing<br/>â€¢ Section Detection"]
    
    Chunker["utils/chunker.py<br/>âœ‚ï¸ Intelligent Text Chunking<br/>â€¢ Recursive Character Splitting<br/>â€¢ Overlap Management<br/>â€¢ Size Optimization"]
    
    %% AI & Embedding Components
    Embeddings["utils/embeddings.py<br/>ğŸ”¢ OpenAI Embedding Service<br/>â€¢ text-embedding-ada-002<br/>â€¢ Batch Processing<br/>â€¢ Rate Limiting"]
    
    LangChainAgent["utils/langchain_agents.py<br/>ğŸ¤– Advanced RAG Agent<br/>â€¢ Complex Query Processing<br/>â€¢ Multi-step Reasoning<br/>â€¢ Context Assembly"]
    
    %% Data Management
    PineconeClient["utils/pinecone_client.py<br/>ğŸŒ² Vector Database Client<br/>â€¢ Index Management<br/>â€¢ Vector Operations<br/>â€¢ Similarity Search"]
    
    SessionManager["utils/session_manager.py<br/>ğŸ“Š Session State Management<br/>â€¢ Chat History<br/>â€¢ Document Metadata<br/>â€¢ User Context"]
    
    %% Command System
    Commands["utils/commands.py<br/>âš¡ Special Command Router<br/>â€¢ /summarize<br/>â€¢ /translate<br/>â€¢ /list-sections<br/>â€¢ /clear & /help"]
    
    %% Monitoring & Infrastructure
    RAGTracer["utils/rag_tracer.py<br/>ğŸ“ˆ Performance Monitoring<br/>â€¢ Query Metrics<br/>â€¢ Response Times<br/>â€¢ LangSmith Integration"]
    
    Decorators["utils/decorators.py<br/>ğŸ­ Cross-cutting Concerns<br/>â€¢ Error Handling<br/>â€¢ Logging<br/>â€¢ Performance Timing"]
    
    %% External API Dependencies
    subgraph "ğŸŒ External APIs"
        OpenAI["OpenAI API<br/>â€¢ GPT-4 Chat Completions<br/>â€¢ Embedding Generation"]
        Pinecone["Pinecone Cloud<br/>â€¢ Vector Storage<br/>â€¢ Similarity Search"]
        LangSmith["LangSmith (Optional)<br/>â€¢ Tracing<br/>â€¢ Monitoring"]
    end
    
    %% Dependencies
    Main --> Config
    Main --> FileParser
    Main --> Chunker
    Main --> Embeddings
    Main --> PineconeClient
    Main --> SessionManager
    Main --> LangChainAgent
    Main --> RAGTracer
    Main --> Commands
    Main --> Decorators
    
    %% Internal Dependencies
    FileParser --> Decorators
    Chunker --> Config
    Embeddings --> Config
    Embeddings --> OpenAI
    PineconeClient --> Config
    PineconeClient --> Pinecone
    LangChainAgent --> PineconeClient
    LangChainAgent --> OpenAI
    RAGTracer --> Config
    Commands --> PineconeClient
    SessionManager --> Config
    
    %% Optional Dependencies
    RAGTracer -.-> LangSmith
    
    %% Styling - High Contrast
    classDef main fill:#1976d2,stroke:#ffffff,stroke-width:3px,color:#ffffff
    classDef core fill:#7b1fa2,stroke:#ffffff,stroke-width:3px,color:#ffffff
    classDef ai fill:#388e3c,stroke:#ffffff,stroke-width:3px,color:#ffffff
    classDef infra fill:#f57c00,stroke:#ffffff,stroke-width:3px,color:#ffffff
    classDef external fill:#c2185b,stroke:#ffffff,stroke-width:3px,color:#ffffff
    
    class Main main
    class Config,FileParser,Chunker,Embeddings,PineconeClient,SessionManager core
    class LangChainAgent,RAGTracer,Commands ai
    class Decorators infra
    class OpenAI,Pinecone,LangSmith external